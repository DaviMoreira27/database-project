<div
  class="flex flex-col h-screen bg-white border-r border-slate-200 transition-all duration-300 ease-in-out shrink-0"
  [class.w-64]="visible()"
  [class.w-20]="!visible()"
>
  <div class="flex items-center justify-between h-16 px-4 border-b border-slate-100">
    <h1
      class="text-xl font-bold text-indigo-600 whitespace-nowrap overflow-hidden transition-opacity duration-200"
      [class.opacity-0]="!visible()"
      [class.hidden]="!visible()"
    >
      Clean City
    </h1>

    <p-button
      [icon]="visible() ? 'pi pi-angle-left' : 'pi pi-angle-right'"
      [rounded]="true"
      [text]="true"
      styleClass="w-8 h-8 !p-0 text-slate-500 hover:text-indigo-600"
      (onClick)="toggleSidebar()"
    ></p-button>
  </div>

  <nav class="flex-1 overflow-y-auto py-4 flex flex-col gap-2 px-3">
    @for (item of menuItems; track item.label) {
    <a
      [routerLink]="item.route"
      routerLinkActive="!bg-slate-100 !text-indigo-600"
      class="flex items-center p-3 rounded-lg text-slate-600 hover:bg-slate-50 hover:text-indigo-600 transition-colors group relative cursor-pointer"
      tooltipPosition="right"
    >
      <i
        [class]="item.icon"
        class="text-xl shrink-0 transition-all duration-300"
        [class.mx-auto]="!visible()"
      ></i>

      <span
        class="ml-3 font-medium whitespace-nowrap overflow-hidden transition-all duration-300"
        [class.w-0]="!visible()"
        [class.opacity-0]="!visible()"
        [class.w-auto]="visible()"
        [class.opacity-100]="visible()"
      >
        {{ item.label }}
      </span>
    </a>
    }
  </nav>

  <div class="p-3 border-t border-slate-100">
    <div
      class="flex items-center gap-3 p-2 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors"
    >
      <div
        class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center shrink-0 text-indigo-600 font-bold"
      >
        AD
      </div>
      <div
        class="flex flex-col overflow-hidden transition-all duration-300"
        [class.w-0]="!visible()"
        [class.opacity-0]="!visible()"
      >
        <span class="text-sm font-semibold text-slate-700 whitespace-nowrap">Admin User</span>
        <span class="text-xs text-slate-500 whitespace-nowrap">admin&#64;cleancity.com</span>
        <!-- admin@cleancity.com --->
      </div>
    </div>
  </div>
</div>
